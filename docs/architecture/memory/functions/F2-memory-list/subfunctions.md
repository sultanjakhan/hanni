# F2 — Рендер списка фактов: Подфункции

> Декомпозиция бизнес-функции на атомарные шаги.
> Phase 3 drill-down.

## Обзор

| Метрика | Значение |
|---------|----------|
| Бизнес-функция | F2: Рендер списка фактов (renderMemoryList) |
| Файл(ы) | main.js:L2612-2672 |
| LOC | 61 |
| Подфункций | 4 |
| Сложность (max) | Medium |

## Подфункции

| # | Подфункция | Строки | LOC | Trigger → Effect | Тип | Сложность |
|---|-----------|--------|-----|-----------------|-----|-----------|
| F2.1 | Рендер HTML-списка фактов | L2612-2625 | 14 | memories[] → innerHTML (list items) | render | Low |
| F2.2 | Обработчики удаления | L2627-2631 | 5 | click [data-del] → invoke('delete_memory') → reload | interaction | Trivial |
| F2.3 | Обработчики редактирования (модальное окно) | L2633-2671 | 39 | click [data-edit] → modal → invoke('update_memory') → reload | interaction | Medium |
| F2.4 | (Часть F2.3) Сохранение из модалки | L2659-2669 | 11 | click "Сохранить" → validate → update_memory → close | persist | Low |

Примечание: F2.4 логически является частью F2.3 (обработчик onclick внутри модалки), но выделен для точности покрытия.

## Проблемные зоны

| # | Подфункция | Проблема | Рекомендация | Приоритет |
|---|-----------|---------|-------------|-----------|
| F2.3 | Edit modal | 39 LOC — дублирование кода модалки с F1.3 (loadAllFacts) | Вынести в shared-функцию showEditMemoryModal(m, onSave) | Medium |
